# SNES LoROM Linker Configuration
# For use with ca65/ld65

MEMORY {
    # Zero Page ($00-$FF)
    ZP:      start = $00,    size = $100,   type = rw;

    # Low RAM ($0100-$1FFF)
    LORAM:   start = $0100,  size = $1F00,  type = rw;

    # ROM area ($8000-$FFAF)
    ROM:     start = $8000,  size = $7FB0,  type = ro, file = %O, fill = yes;

    # SNES Header ($FFB0-$FFDF)
    HEADER:  start = $FFB0,  size = $30,    type = ro, file = %O, fill = yes;

    # Interrupt Vectors ($FFE0-$FFFF)
    VECTORS: start = $FFE0,  size = $20,    type = ro, file = %O, fill = yes;
}

SEGMENTS {
    # Zero page variables
    ZEROPAGE: load = ZP,      type = zp;

    # BSS (uninitialized data in RAM)
    BSS:      load = LORAM,   type = bss;

    # Startup code (first in ROM)
    STARTUP:  load = ROM,     type = ro,  align = $100;

    # Code segment
    CODE:     load = ROM,     type = ro;

    # Read-only data
    RODATA:   load = ROM,     type = ro;

    # Initialized data (copied to RAM at startup)
    DATA:     load = ROM,     type = ro;

    # SNES ROM header
    HEADER:   load = HEADER,  type = ro;

    # Interrupt vectors
    VECTORS:  load = VECTORS, type = ro;
}
